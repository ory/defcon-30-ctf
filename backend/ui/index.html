<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Election Counter</title>
    <link rel="stylesheet" href="/static/normalize.css" />
    <!-- style.css is the theme with default values -->
    <link rel="stylesheet" href="/static/style.css" />
    <!-- fontawesome icons are also included in the theme which we need to import to support icons -->
    <link rel="stylesheet" href="/static/fontawesome.min.css" />
    <link rel="stylesheet" href="/static/fa-solid.min.css" />
    <!-- the ory themes uses the Inter font by default and exposes the inter-font.css file -->
    <link rel="stylesheet" href="/static/inter-font.css" />
    <!-- our custom css for defcon-30-ctf :) -->
    <link rel="stylesheet" href="/static/main.css" />
  </head>
  <body>
    <h1>Welcome to Election Counter, {{ .Username }} ({{ .IdentityID }})</h1>
    <p>Current Result:</p>
    <pre><code>{{ .Results }}</code></pre>

    <div class="grid-32">
      <div class="card">
        <h4 class="card-title">Submit your result</h4>

        <hr />

        <form action="/results" method="post">
          <div class="grid-32">
            <label class="grid-8">
              <span class="text-field-label">District</span>
              <input type="text" name="district" />
            </label>
            <label class="grid-8">
              <span class="text-field-label">Democrats</span>
              <input type="text" name="democrats" />
            </label>
            <label class="grid-8">
              <span class="text-field-label">Republicans</span>
              <input type="text" name="republicans" />
            </label>
            <label class="grid-8">
              <span class="text-field-label">Invalid</span>
              <input type="text" name="invalid" />
            </label>
            <input type="submit" value="Submit" />
          </div>
        </form>
      </div>

      <div class="card">
        <div class="grid-32">
          <p>
            Grant permissions to other users. You can only grant the permissions
            you also have.
            <b>BE CAREFUL WHO YOU GIVE THOSE PERMISSIONS.</b> Only people you
            know and people who really need them. We will establish a process
            for this once the testing period is over.
          </p>

          <hr />

          <form action="/grant-access" method="post">
            <div class="grid-32">
              <label class="grid-8">
                <span class="text-field-label"
                  >Identity ID (next to the persons username)</span
                >
                <input type="text" name="subject" />
              </label>
              <label class="grid-8">
                <span class="text-field-label">Relation</span>
                <input type="text" name="relation" />
              </label>
              <label class="grid-8">
                <span class="text-field-label">Namespace</span>
                <input type="text" name="namespace" />
              </label>
              <label class="grid-8">
                <span class="text-field-label">Object</span>
                <input type="text" name="object" />
              </label>
              <input type="submit" value="Grant Access" />
            </div>
          </form>
        </div>
      </div>

      <div class="card">
        <div class="grid-32">
          <h4 class="card-title">
            Got a <a href="/flag">flag</a>? Submit it here to get Ory swag!
          </h4>

          <hr />

          <form action="/flag" method="post">
            <div class="grid-32">
              <label class="grid-8">
                <span class="text-field-label">Flag</span>
                <input type="text" name="flag" />
              </label>
              <label class="grid-8">
                <span class="text-field-label"
                  >Email (so we can contact you regarding the swag)</span
                >
                <input type="text" name="email" value="{{ .Email }}" />
              </label>
              <input type="submit" value="Submit" />
            </div>
          </form>
        </div>
      </div>
    </div>

    <script type="module" src="static/theming.js"></script>
  </body>
</html>
